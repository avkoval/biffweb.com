---
description: How do we write frameworks that make composition reusable without sacrificing simplicity in the process?
slug: philosophy-of-biff
title: Philosophy of Biff
image: https://platypub.sfo3.cdn.digitaloceanspaces.com/788bbecf-c6df-4c21-bfe8-3aa50ff44078
published: 2023-11-08T10:38:14 AM
content-type: html
---

<p>Biff is a framework for building monolithic, full-stack web apps in Clojure. It exists because I spent a lot of time building Clojure web apps the regular way, by composing all the libraries together myself. Learning how to do that was a valuable experience and I recommend everyone do it at some point, but I don&rsquo;t think it should be a hard prerequisite to being a productive Clojure web developer. I turned my composition of libraries into a framework so that those who have similar needs to me can reuse the work I&rsquo;ve already done, if they want.</p>
<p>Biff is designed for my needs as a solo developer&mdash;previously as an entrepreneur, and still as a hobbyist. Prototyping speed is important in both those domains, not least for the sake of morale. Yet I also needed something that wouldn&rsquo;t get in the way as my apps grew. These aren&rsquo;t just throwaway weekend projects; some of them I&rsquo;ve ended up developing and maintaining for years. In the very first release, Biff had a bunch of interesting, experimental features; I have since removed all the interesting parts and left only the reliable parts.</p>
<p>So the guiding principle for Biff has been &ldquo;what do <em>I</em> want for my own projects?&rdquo; Then &ldquo;what would be helpful for other hobbyists and entrepreneurs, especially those who are relatively new to Clojure web dev?&rdquo; I would also like Biff to be suitable for small teams, though I haven&rsquo;t focused on this much yet.</p>
<p>The Clojure community has historically been wary of frameworks, and for good reason. Few things are as frustrating as being stuck inside someone else&rsquo;s incorrect model of reality. And yet frameworks have real benefits. How do we write frameworks that make composition reusable without sacrificing simplicity in the process?</p>
<blockquote>
<p>We want a collection of principled components, built to be discarded, separated by interfaces that are built to last.</p>
<p>&ndash; Zach Tellman, <a href="https://elementsofclojure.com/">Elements of Clojure</a></p>
</blockquote>
<p>First, I try to only use inversion of control when necessary. Biff&rsquo;s component system is <a href="https://github.com/jacobobryant/biff/blob/53683b11ed0da197cbe571c879820b19dc58f5cd/example/src/com/example.clj#L61-L92">extremely small</a>. There is <a href="https://github.com/jacobobryant/biff/blob/53683b11ed0da197cbe571c879820b19dc58f5cd/example/src/com/example.clj#L17-L22">no plugin autodiscovery</a>. I try to keep IoC-related code in the project template instead of hiding it behind library functions. That way it&rsquo;s easy to understand and modify.</p>
<p>Biff is built to be taken apart. Its main <a href="https://github.com/jacobobryant/biff/blob/53683b11ed0da197cbe571c879820b19dc58f5cd/example/src/com/example.clj#L63-L71">building</a> <a href="https://github.com/jacobobryant/biff/blob/53683b11ed0da197cbe571c879820b19dc58f5cd/example/src/com/example.clj#L19">blocks</a> provide a small amount of customization, but beyond that, they&rsquo;re meant to be discarded when they stop meeting your needs&mdash;or copied and pasted into your project, where you can modify them as you see fit. A little copy-paste is better than a lot of internal indirection. This keeps Biff adaptable and yet not overly complex.</p>
<p>Finally, I limit the scope. Biff&rsquo;s target audience is solo developers, and I&rsquo;m quite opinionated in my approach to serving that use case. Other common use cases should have their own frameworks; Biff doesn&rsquo;t need to be a good fit for every situation. I include by default only things that I think will be needed in a sufficiently large fraction of Biff projects. For everything else, the best way to "extend" Biff is by writing how-to guides: extension by documentation. Preferably that documentation would also be helpful for those not using Biff.</p>
<p>There is a bit of a contradiction here: Biff is designed so it can be adapted to your needs, and yet if it doesn&rsquo;t meet your needs you&rsquo;re supposed to use something else. The distinction is that Biff&rsquo;s adaptability is meant to accommodate your project <em>as it grows</em>. If you think that Biff might be a good fit for a new project as long as you change X, Y and Z, you might find it&rsquo;s easier to simply compose the libraries yourself without Biff. You can always read Biff&rsquo;s source code for inspiration. But if Biff meets your current needs as-is, you should be able to have confidence that it&rsquo;ll adapt to meet your future needs as well.</p>
<p>Biff is itself a principled component within the larger Clojure ecosystem.</p>